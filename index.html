<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {
        background-color: #ffffff;
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    
    <script src="http://brangerbriz.net/labs/threejs_playGnd/js/three.min.js"></script>
    <script src="http://brangerbriz.net/labs/threejs_playGnd/js/Detector.js"></script>
    <script>

      if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
      
      var camera, scene, renderer;
      var geometry, material, mesh;

      function setup() {

        var W = window.innerWidth, H = window.innerHeight;
        renderer = new THREE.WebGLRenderer();
        renderer.setSize( W, H );
        document.body.appendChild( renderer.domElement );

        camera = new THREE.PerspectiveCamera( 50, W/H, 1, 10000 );
        camera.position.z = 1000;

        scene = new THREE.Scene();
        
        
        // paste your code from the geometryGUI here


      }

      function draw() {

        requestAnimationFrame( draw );
        
        geometry = new THREE.CylinderGeometry(1, 100, 200, 50, 50, false);
        material = new THREE.MeshNormalMaterial({shading: THREE.FlatShading, transparent: true, opacity: 0.8});
        mesh = new THREE.Mesh(geometry, material);
        mesh.position.y = 100;
        scene.add(mesh);
        
        wgeometry = new THREE.PlaneGeometry( 1000, 1000, 100, 100 );
        wmaterial = new THREE.MeshBasicMaterial( { color: 0x000000, wireframe: true, wireframeLinewidth: 1 } );
        wireplane = new THREE.Mesh( wgeometry, wmaterial );
        wireplane.scale.set( 1, 1, 1 );
        wireplane.rotation.x = - Math.PI / 2;
        scene.add( wireplane );
        
        scene.fog = new THREE.Fog( 0x000000, 1, 1000 );ambientLight = new THREE.AmbientLight( 0x000000 );
        scene.add( ambientLight );
        
        spotLight1 = new THREE.SpotLight( 0xffffff, 0.1 );
        spotLight1.position.set( 100, 1000, 100 );
        spotLight1.castShadow = true;
        spotLight1.shadowDarkness = 0.2;
        scene.add( spotLight1 );
        
        spotLight2 = new THREE.SpotLight( 0xffffff, 0.1 );
        spotLight2.position.set( 100, 1000, 100 );
        spotLight2.castShadow = true;
        spotLight2.shadowDarkness = 0.2;
        scene.add( spotLight2 );

        renderer.render( scene, camera );

      }

      setup();
      draw();

    </script>
    
  </body>
</html>